# Welcome to Serverless!

service: ssff-0167-informe

custom:
  tableName: 'ssff-informe'

provider:
  name: aws
  runtime: nodejs12.x
  stage: dev
  region: us-west-2
  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - dynamodb:Query
        - dynamodb:Scan
        - dynamodb:GetItem
        - dynamodb:PutItem
        - dynamodb:UpdateItem
        - dynamodb:DeleteItem
      Resource: 
        - "arn:aws:dynamodb:us-west-2:140176884735:table/ssff-informe"
        - "arn:aws:dynamodb:us-west-2:140176884735:table/ssff-informe-resumen"
  environment:
    tableName: ${self:custom.tableName}

plugins:
  - serverless-offline

functions:
  app:
    handler: handler.generic
    events:
      - http: ANY /
        cors:
          origin:
            - "http://localhost:3000"
          headers:
            - Accept
            - Origin
            - DNT
            - User-Agent
            - Referer
            - Content-Type
            - X-Amz-Date
            - x-amz-date
            - Authorization
            - X-Api-Key
            - X-Amz-Security-Token
      - http: ANY {proxy+}
        cors:
          origin:
            - "http://localhost:3000"
          headers:
            - Accept
            - Origin
            - DNT
            - User-Agent
            - Referer
            - Content-Type
            - X-Amz-Date
            - x-amz-date
            - Authorization
            - X-Api-Key
            - X-Amz-Security-Token